{"ast":null,"code":"/**\n * Light wrapper around the (future) Zoro wallet API.\n */export class ZoroWalletConnector{constructor(){this.clientPromise=void 0;}ensureClient(){if(this.clientPromise){return this.clientPromise;}this.clientPromise=new Promise(async(resolve,reject)=>{var _zoroWallet;if(typeof window===\"undefined\"){reject(new Error(\"Zoro wallet can only run inside a browser context.\"));return;}const provider=(_zoroWallet=window.zoroWallet)!==null&&_zoroWallet!==void 0?_zoroWallet:window.zoro;if(!provider){reject(new Error(\"Zoro wallet extension not detected.\"));return;}try{if(typeof provider.connect===\"function\"){await provider.connect();}else if(typeof provider.init===\"function\"){await provider.init();}resolve(provider);}catch(err){reject(new Error(err instanceof Error?err.message:\"Unable to initialize the Zoro wallet connector.\"));}});return this.clientPromise;}async getParty(){var _await$provider$getPa,_provider$getPartyId,_provider$getParty;const provider=await this.ensureClient();const party=(_await$provider$getPa=await((_provider$getPartyId=provider.getPartyId)===null||_provider$getPartyId===void 0?void 0:_provider$getPartyId.call(provider)))!==null&&_await$provider$getPa!==void 0?_await$provider$getPa:await((_provider$getParty=provider.getParty)===null||_provider$getParty===void 0?void 0:_provider$getParty.call(provider));if(!party){throw new Error(\"Zoro wallet did not return a Canton party identifier.\");}return party.trim();}async signMessage(message){const provider=await this.ensureClient();if(!provider.signMessage){throw new Error(\"Zoro wallet does not expose a signMessage API.\");}const signature=await provider.signMessage(message);if(!signature){throw new Error(\"Zoro wallet returned an empty signature.\");}return signature;}getType(){return\"zoro\";}}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}