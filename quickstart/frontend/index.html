<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ClearportX AMM — Institutional Digital Asset Trading</title>
    <meta name="description" content="ClearportX - Privacy-preserving institutional DeFi trading platform. Built on Canton Network for the future of finance.">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    
    <!-- TradingView Charting Library -->
    <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js" async></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        // CantonX Exact Brand Colors
                        primary: {
                            50: '#fafafa',
                            100: '#f5f5f5',
                            200: '#e5e5e5',
                            300: '#d4d4d4',
                            400: '#a3a3a3',
                            500: '#737373',
                            600: '#525252',
                            700: '#404040',
                            800: '#262626',
                            900: '#171717',
                            950: '#000000',
                        },
                        accent: {
                            50: '#fefdf8',
                            100: '#fefbf0',
                            200: '#fdf6d8',
                            300: '#fcf0b8',
                            400: '#f9e68c',
                            500: '#DAA520',
                            600: '#B8860B',
                            700: '#9d7209',
                            800: '#825e08',
                            900: '#6b4e07',
                        },
                        cream: {
                            50: '#fafafa',
                            100: '#f5f5f5',
                            200: '#f0f0f0',
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                    backgroundImage: {
                        'canton-gradient': 'linear-gradient(135deg, #B8860B 0%, #DAA520 100%)',
                    }
                }
            }
        }
    </script>
    
    <style>
        .glass {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(229, 229, 229, 0.3);
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1), 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        .text-gradient {
            background: linear-gradient(135deg, #B8860B 0%, #DAA520 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .bg-mesh {
            background-image: 
                radial-gradient(circle at 25% 25%, rgba(184, 134, 11, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, rgba(218, 165, 32, 0.05) 0%, transparent 50%);
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-cream-50 via-white to-cream-100 font-sans">
    <!-- Background Pattern -->
    <div class="fixed inset-0 bg-mesh opacity-20 pointer-events-none"></div>
    
    <!-- Header -->
    <header class="sticky top-0 z-50 glass border-b border-primary-200/30">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <!-- Logo -->
                <div class="flex items-center space-x-3">
                    <img src="../assets/Logo ClearportX.svg" alt="ClearportX" class="h-8 w-auto">
                    <div class="hidden sm:block">
                        <h1 class="text-xl font-bold text-gradient">ClearportX</h1>
                        <p class="text-xs text-primary-600">Institutional Digital Asset Trading</p>
                    </div>
                </div>

                <!-- Navigation -->
                <nav class="hidden md:flex items-center space-x-1">
                    <button id="swapTab" class="px-4 py-2 rounded-lg font-medium text-accent-600 bg-accent-50 transition-all duration-200">
                        Swap
                    </button>
                    <button id="poolsTab" class="px-4 py-2 rounded-lg font-medium text-primary-600 hover:text-primary-950 hover:bg-primary-50 transition-all duration-200">
                        Pools
                    </button>
                    <button id="liquidityTab" class="px-4 py-2 rounded-lg font-medium text-primary-600 hover:text-primary-950 hover:bg-primary-50 transition-all duration-200">
                        Liquidity
                    </button>
                </nav>

                <!-- Actions -->
                <div class="flex items-center space-x-3">
                    <button id="connectWallet" class="px-4 py-2 rounded-xl font-medium bg-white text-primary-950 border border-primary-200 hover:bg-accent-50 hover:border-accent-200 transition-all duration-200">
                        Connect Wallet
                    </button>
                    <button id="themeToggle" class="p-2 rounded-lg bg-white text-primary-600 hover:text-primary-950 hover:bg-primary-50 transition-colors duration-200">
                        <span>⚙️</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Swap Page -->
        <div id="swapPage">
        <!-- Trading Layout -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- TradingView Chart (Left) -->
            <div class="order-2 lg:order-1">
                <div class="glass rounded-2xl p-6 shadow-xl">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-semibold text-primary-950">Price Chart</h3>
                        <div class="flex items-center space-x-2">
                            <span class="text-sm text-primary-600">Pair:</span>
                            <span id="chartPair" class="text-sm font-semibold text-primary-950">BTC/USDT</span>
                        </div>
                    </div>
                    <div id="tradingview_chart" class="w-full h-96 bg-white rounded-lg border border-primary-200/20"></div>
                </div>
            </div>

            <!-- Swap Interface (Right) -->
            <div class="order-1 lg:order-2">
            <div class="glass rounded-2xl p-6 shadow-xl relative overflow-hidden">
                <!-- Background Pattern -->
                <div class="absolute inset-0 bg-mesh opacity-30"></div>
                
                <!-- Header -->
                <div class="relative flex items-center justify-between mb-6">
                    <div>
                        <h2 class="text-2xl font-semibold text-gray-900 dark:text-gray-100">Swap Tokens</h2>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Trade tokens instantly with low fees</p>
                    </div>
                    <button class="p-2 rounded-lg bg-gray-100 dark:bg-dark-800 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 transition-all duration-200">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                    </button>
                </div>

                <!-- From Token -->
                <div class="relative mb-2">
                    <div class="bg-white/90 backdrop-blur-sm border border-primary-200/20 rounded-2xl p-4 shadow-sm">
                        <div class="flex items-center justify-between mb-3">
                            <span class="text-sm text-primary-600">From</span>
                            <span class="text-sm text-primary-500">Balance: 0.00</span>
                        </div>
                        
                        <div class="flex items-center space-x-3">
                            <div class="relative">
                                <button id="fromTokenButton" class="flex items-center space-x-2 px-3 py-2 rounded-xl bg-primary-50 hover:bg-accent-50 transition-colors duration-200">
                                    <div class="w-6 h-6 rounded-full bg-orange-500 flex items-center justify-center text-white text-xs font-bold">₿</div>
                                    <span class="text-primary-950 font-semibold">BTC</span>
                                    <svg class="w-4 h-4 text-primary-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                    </svg>
                                </button>
                                
                                <!-- Token Dropdown -->
                                <div id="fromTokenDropdown" class="hidden absolute top-full left-0 mt-2 w-64 bg-white border border-primary-200 rounded-xl shadow-xl z-50">
                                    <div class="p-3 border-b border-primary-100">
                                        <h3 class="text-sm font-semibold text-primary-950">Select a token</h3>
                                    </div>
                                    <div class="max-h-60 overflow-y-auto">
                                        <div class="token-option p-3 hover:bg-primary-50 cursor-pointer flex items-center space-x-3" data-token="BTC">
                                            <div class="w-8 h-8 rounded-full bg-orange-500 flex items-center justify-center text-white font-bold">₿</div>
                                            <div>
                                                <div class="font-semibold text-primary-950">Bitcoin</div>
                                                <div class="text-sm text-primary-600">BTC</div>
                                            </div>
                                        </div>
                                        <div class="token-option p-3 hover:bg-primary-50 cursor-pointer flex items-center space-x-3" data-token="ETH">
                                            <div class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold">Ξ</div>
                                            <div>
                                                <div class="font-semibold text-primary-950">Ethereum</div>
                                                <div class="text-sm text-primary-600">ETH</div>
                                            </div>
                                        </div>
                                        <div class="token-option p-3 hover:bg-primary-50 cursor-pointer flex items-center space-x-3" data-token="USDT">
                                            <div class="w-8 h-8 rounded-full bg-green-500 flex items-center justify-center text-white font-bold">₮</div>
                                            <div>
                                                <div class="font-semibold text-primary-950">Tether USD</div>
                                                <div class="text-sm text-primary-600">USDT</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <input
                                type="text"
                                placeholder="0.0"
                                class="flex-1 text-right text-2xl font-semibold bg-transparent border-none outline-none text-primary-950 placeholder-primary-400"
                            />
                        </div>
                    </div>
                </div>

                <!-- Swap Button -->
                <div class="flex justify-center -my-1 relative z-10">
                    <button class="p-3 rounded-xl bg-white border-4 border-cream-50 shadow-lg hover:shadow-xl transition-all duration-200 hover:scale-110">
                        <svg class="w-5 h-5 text-accent-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"></path>
                        </svg>
                    </button>
                </div>

                <!-- To Token -->
                <div class="relative mb-6">
                    <div class="bg-white/90 backdrop-blur-sm border border-primary-200/20 rounded-2xl p-4 shadow-sm">
                        <div class="flex items-center justify-between mb-3">
                            <span class="text-sm text-primary-600">To</span>
                            <span class="text-sm text-primary-500">Balance: 0.00</span>
                        </div>
                        
                        <div class="flex items-center space-x-3">
                            <div class="relative">
                                <button id="toTokenButton" class="flex items-center space-x-2 px-3 py-2 rounded-xl bg-primary-50 hover:bg-accent-50 transition-colors duration-200">
                                    <div class="w-6 h-6 rounded-full bg-green-500 flex items-center justify-center text-white text-xs font-bold">₮</div>
                                    <span class="text-primary-950 font-semibold">USDT</span>
                                    <svg class="w-4 h-4 text-primary-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                    </svg>
                                </button>
                                
                                <!-- Token Dropdown -->
                                <div id="toTokenDropdown" class="hidden absolute top-full left-0 mt-2 w-64 bg-white border border-primary-200 rounded-xl shadow-xl z-50">
                                    <div class="p-3 border-b border-primary-100">
                                        <h3 class="text-sm font-semibold text-primary-950">Select a token</h3>
                                    </div>
                                    <div class="max-h-60 overflow-y-auto">
                                        <div class="token-option p-3 hover:bg-primary-50 cursor-pointer flex items-center space-x-3" data-token="BTC">
                                            <div class="w-8 h-8 rounded-full bg-orange-500 flex items-center justify-center text-white font-bold">₿</div>
                                            <div>
                                                <div class="font-semibold text-primary-950">Bitcoin</div>
                                                <div class="text-sm text-primary-600">BTC</div>
                                            </div>
                                        </div>
                                        <div class="token-option p-3 hover:bg-primary-50 cursor-pointer flex items-center space-x-3" data-token="ETH">
                                            <div class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold">Ξ</div>
                                            <div>
                                                <div class="font-semibold text-primary-950">Ethereum</div>
                                                <div class="text-sm text-primary-600">ETH</div>
                                            </div>
                                        </div>
                                        <div class="token-option p-3 hover:bg-primary-50 cursor-pointer flex items-center space-x-3" data-token="USDT">
                                            <div class="w-8 h-8 rounded-full bg-green-500 flex items-center justify-center text-white font-bold">₮</div>
                                            <div>
                                                <div class="font-semibold text-primary-950">Tether USD</div>
                                                <div class="text-sm text-primary-600">USDT</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="flex-1 text-right text-2xl font-semibold text-primary-950">
                                0.0
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Swap Button -->
                <button class="w-full py-4 rounded-xl font-semibold text-lg bg-accent-600 hover:bg-accent-700 text-white transition-all duration-200 flex items-center justify-center space-x-2">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                    </svg>
                    <span>Connect Wallet</span>
                </button>

                <!-- Quick Stats -->
                <div class="mt-6 grid grid-cols-2 gap-4">
                    <div class="text-center">
                        <div class="text-accent-600 mb-1">
                            <span class="text-xs font-medium">24h Volume</span>
                        </div>
                        <span id="poolVolume" class="text-sm font-semibold text-primary-950">$0</span>
                    </div>
                    
                    <div class="text-center">
                        <div class="text-accent-600 mb-1">
                            <span class="text-xs font-medium">Fee</span>
                        </div>
                        <span id="poolFee" class="text-sm font-semibold text-primary-950">0.3%</span>
                    </div>
                </div>
            </div>
        </div>
        </div>

        <!-- Pools Page -->
        <div id="poolsPage" class="hidden">
            <div class="max-w-6xl mx-auto">
                <div class="mb-8">
                    <h2 class="text-3xl font-bold text-primary-950 mb-2">Liquidity Pools</h2>
                    <p class="text-primary-600">Earn fees by providing liquidity to trading pairs</p>
                </div>

                <!-- Pool Stats -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                    <div class="glass rounded-xl p-6">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm text-primary-600">Total Value Locked</span>
                            <div class="w-8 h-8 rounded-full bg-accent-600 flex items-center justify-center">
                                <span class="text-white text-sm">💰</span>
                            </div>
                        </div>
                        <div class="text-2xl font-bold text-primary-950">$7.1M</div>
                        <div class="text-sm text-green-600">+12.5% from last week</div>
                    </div>
                    
                    <div class="glass rounded-xl p-6">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm text-primary-600">24h Volume</span>
                            <div class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center">
                                <span class="text-white text-sm">📊</span>
                            </div>
                        </div>
                        <div class="text-2xl font-bold text-primary-950">$2.4M</div>
                        <div class="text-sm text-green-600">+8.2% from yesterday</div>
                    </div>
                    
                    <div class="glass rounded-xl p-6">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm text-primary-600">Active Pools</span>
                            <div class="w-8 h-8 rounded-full bg-green-500 flex items-center justify-center">
                                <span class="text-white text-sm">🏊</span>
                            </div>
                        </div>
                        <div class="text-2xl font-bold text-primary-950">12</div>
                        <div class="text-sm text-primary-600">Across 6 tokens</div>
                    </div>
                </div>

                <!-- Pools List -->
                <div class="glass rounded-xl p-6">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-xl font-semibold text-primary-950">All Pools</h3>
                        <button class="btn-primary">+ Create Pool</button>
                    </div>
                    
                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead>
                                <tr class="border-b border-primary-200">
                                    <th class="text-left py-3 px-4 text-sm font-medium text-primary-600">Pool</th>
                                    <th class="text-left py-3 px-4 text-sm font-medium text-primary-600">TVL</th>
                                    <th class="text-left py-3 px-4 text-sm font-medium text-primary-600">Volume 24h</th>
                                    <th class="text-left py-3 px-4 text-sm font-medium text-primary-600">APR</th>
                                    <th class="text-left py-3 px-4 text-sm font-medium text-primary-600">Your Liquidity</th>
                                    <th class="text-right py-3 px-4 text-sm font-medium text-primary-600">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="poolsTableBody">
                                <tr class="border-b border-primary-100 hover:bg-primary-50">
                                    <td class="py-4 px-4">
                                        <div class="flex items-center space-x-3">
                                            <div class="flex -space-x-2">
                                                <div class="w-8 h-8 rounded-full bg-orange-500 flex items-center justify-center text-white font-bold border-2 border-white">₿</div>
                                                <div class="w-8 h-8 rounded-full bg-green-500 flex items-center justify-center text-white font-bold border-2 border-white">₮</div>
                                            </div>
                                            <div>
                                                <div class="font-semibold text-primary-950">BTC/USDT</div>
                                                <div class="text-sm text-primary-600">0.3% fee</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="py-4 px-4 text-primary-950 font-medium">$3.2M</td>
                                    <td class="py-4 px-4 text-primary-950 font-medium">$1.8M</td>
                                    <td class="py-4 px-4 text-green-600 font-medium">24.5%</td>
                                    <td class="py-4 px-4 text-primary-950">$0</td>
                                    <td class="py-4 px-4 text-right">
                                        <button class="btn-secondary text-sm">Add Liquidity</button>
                                    </td>
                                </tr>
                                <tr class="border-b border-primary-100 hover:bg-primary-50">
                                    <td class="py-4 px-4">
                                        <div class="flex items-center space-x-3">
                                            <div class="flex -space-x-2">
                                                <div class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold border-2 border-white">Ξ</div>
                                                <div class="w-8 h-8 rounded-full bg-green-500 flex items-center justify-center text-white font-bold border-2 border-white">₮</div>
                                            </div>
                                            <div>
                                                <div class="font-semibold text-primary-950">ETH/USDT</div>
                                                <div class="text-sm text-primary-600">0.3% fee</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="py-4 px-4 text-primary-950 font-medium">$2.4M</td>
                                    <td class="py-4 px-4 text-primary-950 font-medium">$1.2M</td>
                                    <td class="py-4 px-4 text-green-600 font-medium">18.2%</td>
                                    <td class="py-4 px-4 text-primary-950">$0</td>
                                    <td class="py-4 px-4 text-right">
                                        <button class="btn-secondary text-sm">Add Liquidity</button>
                                    </td>
                                </tr>
                                <tr class="border-b border-primary-100 hover:bg-primary-50">
                                    <td class="py-4 px-4">
                                        <div class="flex items-center space-x-3">
                                            <div class="flex -space-x-2">
                                                <div class="w-8 h-8 rounded-full bg-orange-500 flex items-center justify-center text-white font-bold border-2 border-white">₿</div>
                                                <div class="w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white font-bold border-2 border-white">Ξ</div>
                                            </div>
                                            <div>
                                                <div class="font-semibold text-primary-950">BTC/ETH</div>
                                                <div class="text-sm text-primary-600">0.3% fee</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td class="py-4 px-4 text-primary-950 font-medium">$1.5M</td>
                                    <td class="py-4 px-4 text-primary-950 font-medium">$950K</td>
                                    <td class="py-4 px-4 text-green-600 font-medium">15.8%</td>
                                    <td class="py-4 px-4 text-primary-950">$0</td>
                                    <td class="py-4 px-4 text-right">
                                        <button class="btn-secondary text-sm">Add Liquidity</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Liquidity Page -->
        <div id="liquidityPage" class="hidden">
            <div class="max-w-4xl mx-auto">
                <div class="mb-8">
                    <h2 class="text-3xl font-bold text-primary-950 mb-2">Your Liquidity</h2>
                    <p class="text-primary-600">Manage your liquidity positions and earn trading fees</p>
                </div>

                <!-- Add Liquidity Form -->
                <div class="glass rounded-2xl p-6 mb-8">
                    <h3 class="text-xl font-semibold text-primary-950 mb-6">Add Liquidity</h3>
                    
                    <!-- Token A Input -->
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-primary-600 mb-2">First Token</label>
                        <div class="bg-white/90 backdrop-blur-sm border border-primary-200/20 rounded-xl p-4">
                            <div class="flex items-center justify-between mb-3">
                                <span class="text-sm text-primary-600">Amount</span>
                                <span class="text-sm text-primary-500">Balance: 0.00</span>
                            </div>
                            <div class="flex items-center space-x-3">
                                <div class="relative">
                                    <button id="liquidityTokenAButton" class="flex items-center space-x-2 px-3 py-2 rounded-xl bg-primary-50 hover:bg-accent-50 transition-colors duration-200">
                                        <div class="w-6 h-6 rounded-full bg-orange-500 flex items-center justify-center text-white text-xs font-bold">₿</div>
                                        <span class="text-primary-950 font-semibold">BTC</span>
                                        <svg class="w-4 h-4 text-primary-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                        </svg>
                                    </button>
                                </div>
                                <input type="text" placeholder="0.0" class="flex-1 text-right text-xl font-semibold bg-transparent border-none outline-none text-primary-950 placeholder-primary-400" />
                            </div>
                        </div>
                    </div>

                    <!-- Plus Icon -->
                    <div class="flex justify-center my-4">
                        <div class="w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center">
                            <svg class="w-4 h-4 text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                            </svg>
                        </div>
                    </div>

                    <!-- Token B Input -->
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-primary-600 mb-2">Second Token</label>
                        <div class="bg-white/90 backdrop-blur-sm border border-primary-200/20 rounded-xl p-4">
                            <div class="flex items-center justify-between mb-3">
                                <span class="text-sm text-primary-600">Amount</span>
                                <span class="text-sm text-primary-500">Balance: 0.00</span>
                            </div>
                            <div class="flex items-center space-x-3">
                                <div class="relative">
                                    <button id="liquidityTokenBButton" class="flex items-center space-x-2 px-3 py-2 rounded-xl bg-primary-50 hover:bg-accent-50 transition-colors duration-200">
                                        <div class="w-6 h-6 rounded-full bg-green-500 flex items-center justify-center text-white text-xs font-bold">₮</div>
                                        <span class="text-primary-950 font-semibold">USDT</span>
                                        <svg class="w-4 h-4 text-primary-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                                        </svg>
                                    </button>
                                </div>
                                <input type="text" placeholder="0.0" class="flex-1 text-right text-xl font-semibold bg-transparent border-none outline-none text-primary-950 placeholder-primary-400" />
                            </div>
                        </div>
                    </div>

                    <!-- Pool Info -->
                    <div class="bg-primary-50 rounded-xl p-4 mb-6">
                        <div class="grid grid-cols-2 gap-4 text-sm">
                            <div>
                                <span class="text-primary-600">Pool Share:</span>
                                <span class="text-primary-950 font-medium ml-2">0%</span>
                            </div>
                            <div>
                                <span class="text-primary-600">LP Tokens:</span>
                                <span class="text-primary-950 font-medium ml-2">0</span>
                            </div>
                            <div>
                                <span class="text-primary-600">Exchange Rate:</span>
                                <span class="text-primary-950 font-medium ml-2">1 BTC = 43,250 USDT</span>
                            </div>
                            <div>
                                <span class="text-primary-600">Fee Tier:</span>
                                <span class="text-primary-950 font-medium ml-2">0.3%</span>
                            </div>
                        </div>
                    </div>

                    <!-- Add Liquidity Button -->
                    <button class="w-full py-4 rounded-xl font-semibold text-lg bg-accent-600 hover:bg-accent-700 text-white transition-all duration-200">
                        Add Liquidity
                    </button>
                </div>

                <!-- Your Positions -->
                <div class="glass rounded-xl p-6">
                    <h3 class="text-xl font-semibold text-primary-950 mb-6">Your Positions</h3>
                    
                    <div class="text-center py-12">
                        <div class="w-16 h-16 rounded-full bg-primary-100 flex items-center justify-center mx-auto mb-4">
                            <svg class="w-8 h-8 text-primary-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>
                            </svg>
                        </div>
                        <h4 class="text-lg font-medium text-primary-950 mb-2">No liquidity positions</h4>
                        <p class="text-primary-600 mb-6">Add liquidity to a pool to start earning fees</p>
                        <button class="btn-primary">Add Your First Position</button>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <!-- Footer -->
    <footer class="relative mt-auto py-8 text-center border-t border-primary-200/30">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col sm:flex-row items-center justify-between space-y-4 sm:space-y-0">
                <div class="flex items-center space-x-2">
                    <img src="../assets/Logo ClearportX.svg" alt="ClearportX" class="h-6 w-auto">
                    <span class="text-gradient font-semibold">ClearportX</span>
                </div>
                
                <p class="text-sm text-primary-500">
                    Powered by 
                    <span class="text-gradient font-semibold">Canton Network</span>
                     • Institutional Digital Asset Trading
                </p>
                
                <div class="flex items-center space-x-4 text-xs text-primary-400">
                    <span>Privacy-First</span>
                    <span>•</span>
                    <span>Institutional Grade</span>
                    <span>•</span>
                    <span>Secure</span>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Mock pool data (in real app, this would come from Canton Network)
        const mockPools = {
            'BTC/USDT': {
                volume24h: 3200000,
                fee: 0.3,
                tvSymbol: 'BINANCE:BTCUSDT'
            },
            'ETH/USDT': {
                volume24h: 2400000,
                fee: 0.3,
                tvSymbol: 'BINANCE:ETHUSDT'
            },
            'BTC/ETH': {
                volume24h: 950000,
                fee: 0.3,
                tvSymbol: 'BINANCE:BTCETH'
            }
        };

        let currentFromToken = null;
        let currentToToken = null;
        let tradingViewWidget = null;

        // Settings toggle (placeholder)
        const themeToggle = document.getElementById('themeToggle');
        
        themeToggle.addEventListener('click', () => {
            alert('Settings panel coming soon!');
        });

        // Connect wallet simulation
        const connectWallet = document.getElementById('connectWallet');
        connectWallet.addEventListener('click', () => {
            alert('Wallet connection will be available once Canton Network integration is complete!');
        });

        // Page navigation
        let currentPage = 'swap';
        
        function showPage(pageId) {
            // Hide all pages
            document.getElementById('swapPage').classList.add('hidden');
            document.getElementById('poolsPage').classList.add('hidden');
            document.getElementById('liquidityPage').classList.add('hidden');
            
            // Show selected page
            if (pageId === 'swap') {
                document.getElementById('swapPage').classList.remove('hidden');
            } else if (pageId === 'pools') {
                document.getElementById('poolsPage').classList.remove('hidden');
            } else if (pageId === 'liquidity') {
                document.getElementById('liquidityPage').classList.remove('hidden');
            }
            
            // Update navigation styles
            document.getElementById('swapTab').className = pageId === 'swap' 
                ? 'px-4 py-2 rounded-lg font-medium text-accent-600 bg-accent-50 transition-all duration-200'
                : 'px-4 py-2 rounded-lg font-medium text-primary-600 hover:text-primary-950 hover:bg-primary-50 transition-all duration-200';
                
            document.getElementById('poolsTab').className = pageId === 'pools' 
                ? 'px-4 py-2 rounded-lg font-medium text-accent-600 bg-accent-50 transition-all duration-200'
                : 'px-4 py-2 rounded-lg font-medium text-primary-600 hover:text-primary-950 hover:bg-primary-50 transition-all duration-200';
                
            document.getElementById('liquidityTab').className = pageId === 'liquidity' 
                ? 'px-4 py-2 rounded-lg font-medium text-accent-600 bg-accent-50 transition-all duration-200'
                : 'px-4 py-2 rounded-lg font-medium text-primary-600 hover:text-primary-950 hover:bg-primary-50 transition-all duration-200';
                
            currentPage = pageId;
        }

        // Update pool stats based on selected tokens
        function updatePoolStats(fromToken, toToken) {
            if (!fromToken || !toToken) {
                document.getElementById('poolVolume').textContent = '$0';
                document.getElementById('poolFee').textContent = '0.3%';
                document.getElementById('chartPair').textContent = 'BTC/USDT';
                return;
            }

            const pairKey = `${fromToken}/${toToken}`;
            const reversePairKey = `${toToken}/${fromToken}`;
            
            const poolData = mockPools[pairKey] || mockPools[reversePairKey];
            
            if (poolData) {
                document.getElementById('poolVolume').textContent = `$${(poolData.volume24h / 1000000).toFixed(1)}M`;
                document.getElementById('poolFee').textContent = `${poolData.fee}%`;
                document.getElementById('chartPair').textContent = pairKey;
                
                // Update TradingView chart
                updateTradingViewChart(poolData.tvSymbol);
            } else {
                document.getElementById('poolVolume').textContent = '$0';
                document.getElementById('poolFee').textContent = '0.3%';
                document.getElementById('chartPair').textContent = `${pairKey} (No data)`;
            }
        }

        // Initialize or update TradingView chart
        function updateTradingViewChart(symbol) {
            const container = document.getElementById('tradingview_chart');
            
            // Clear existing widget
            container.innerHTML = '';
            
            // Create new TradingView widget
            new TradingView.widget({
                "width": "100%",
                "height": "384",
                "symbol": symbol,
                "interval": "15",
                "timezone": "Etc/UTC",
                "theme": "light",
                "style": "1",
                "locale": "en",
                "toolbar_bg": "#f1f3f6",
                "enable_publishing": false,
                "hide_top_toolbar": false,
                "hide_legend": true,
                "save_image": false,
                "container_id": "tradingview_chart",
                "studies": [
                    "Volume@tv-basicstudies"
                ]
            });
        }

        // Mock token selection (in real app, this would be proper token selectors)
        function selectToken(type, token) {
            if (type === 'from') {
                currentFromToken = token;
            } else {
                currentToToken = token;
            }
            updatePoolStats(currentFromToken, currentToToken);
        }

        // Token icons and data
        const tokenData = {
            'BTC': { 
                name: 'Bitcoin', 
                icon: '₿', 
                color: 'bg-orange-500' 
            },
            'ETH': { 
                name: 'Ethereum', 
                icon: 'Ξ', 
                color: 'bg-blue-500' 
            },
            'USDT': { 
                name: 'Tether USD', 
                icon: '₮', 
                color: 'bg-green-500' 
            }
        };

        // Add click handlers for dropdown token selectors
        document.addEventListener('DOMContentLoaded', function() {
            // From token dropdown
            const fromTokenButton = document.getElementById('fromTokenButton');
            const fromTokenDropdown = document.getElementById('fromTokenDropdown');
            
            if (fromTokenButton && fromTokenDropdown) {
                fromTokenButton.addEventListener('click', function(e) {
                    e.stopPropagation();
                    fromTokenDropdown.classList.toggle('hidden');
                    document.getElementById('toTokenDropdown').classList.add('hidden');
                });

                // Handle token selection in from dropdown
                fromTokenDropdown.addEventListener('click', function(e) {
                    const tokenOption = e.target.closest('.token-option');
                    if (tokenOption) {
                        const token = tokenOption.dataset.token;
                        const tokenInfo = tokenData[token];
                        
                        // Update button
                        fromTokenButton.querySelector('.w-6').className = `w-6 h-6 rounded-full ${tokenInfo.color} flex items-center justify-center text-white text-xs font-bold`;
                        fromTokenButton.querySelector('.w-6').textContent = tokenInfo.icon;
                        fromTokenButton.querySelector('span').textContent = token;
                        
                        // Update state and chart
                        selectToken('from', token);
                        fromTokenDropdown.classList.add('hidden');
                    }
                });
            }

            // To token dropdown
            const toTokenButton = document.getElementById('toTokenButton');
            const toTokenDropdown = document.getElementById('toTokenDropdown');
            
            if (toTokenButton && toTokenDropdown) {
                toTokenButton.addEventListener('click', function(e) {
                    e.stopPropagation();
                    toTokenDropdown.classList.toggle('hidden');
                    document.getElementById('fromTokenDropdown').classList.add('hidden');
                });

                // Handle token selection in to dropdown
                toTokenDropdown.addEventListener('click', function(e) {
                    const tokenOption = e.target.closest('.token-option');
                    if (tokenOption) {
                        const token = tokenOption.dataset.token;
                        const tokenInfo = tokenData[token];
                        
                        // Update button
                        toTokenButton.querySelector('.w-6').className = `w-6 h-6 rounded-full ${tokenInfo.color} flex items-center justify-center text-white text-xs font-bold`;
                        toTokenButton.querySelector('.w-6').textContent = tokenInfo.icon;
                        toTokenButton.querySelector('span').textContent = token;
                        
                        // Update state and chart
                        selectToken('to', token);
                        toTokenDropdown.classList.add('hidden');
                    }
                });
            }

            // Close dropdowns when clicking outside
            document.addEventListener('click', function() {
                document.getElementById('fromTokenDropdown').classList.add('hidden');
                document.getElementById('toTokenDropdown').classList.add('hidden');
            });

            // Navigation event listeners
            document.getElementById('swapTab').addEventListener('click', () => showPage('swap'));
            document.getElementById('poolsTab').addEventListener('click', () => showPage('pools'));
            document.getElementById('liquidityTab').addEventListener('click', () => showPage('liquidity'));

            // Initialize with BTC/USDT pair and chart
            setTimeout(() => {
                selectToken('from', 'BTC');
                selectToken('to', 'USDT');
                updateTradingViewChart('BINANCE:BTCUSDT');
                showPage('swap'); // Show swap page by default
            }, 1000);
        });

        // Add some interactivity to the swap interface
        const swapButton = document.querySelector('.p-3.rounded-xl');
        if (swapButton) {
            swapButton.addEventListener('click', () => {
                swapButton.style.transform = 'rotate(180deg)';
                setTimeout(() => {
                    swapButton.style.transform = 'rotate(0deg)';
                }, 300);
            });
        }
    </script>
</body>
</html>
