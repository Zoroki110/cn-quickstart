{"ast":null,"code":"import React,{useEffect}from'react';import{BrowserRouter as Router,Routes,Route}from'react-router-dom';import{Toaster}from'react-hot-toast';import{initializeCantonApi}from'./services';import{useAppStore}from'./stores';import{useCantonHealth}from'./hooks';import{BUILD_INFO}from'./config/build-info';// Components\nimport{Header,SwapInterface,PoolsInterface,LiquidityInterface,TransactionHistory,ConnectionStatus,LoadingScreen}from'./components';import AuthCallback from'./components/AuthCallback';// Configuration Canton pour CleaPortX\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CANTON_CONFIG={ledgerApiUrl:'http://localhost:8080',adminApiUrl:'http://localhost:8080',participantId:'app_user_participant'};function App(){const{setConnected,theme}=useAppStore();const{data:isHealthy,isLoading:healthLoading}=useCantonHealth();useEffect(()=>{// Initialiser l'API Canton\ntry{initializeCantonApi(CANTON_CONFIG);console.log('Canton API initialized successfully for ClearPortX');console.log('Build version:',BUILD_INFO.version,'Backend:',BUILD_INFO.features.backendUrl);console.log('Using backend API only:',BUILD_INFO.features.backendApiOnly);console.log('TypeScript errors fixed:',BUILD_INFO.features.typeScriptErrorFixed);}catch(error){console.error('Failed to initialize Canton API:',error);}},[]);useEffect(()=>{// Mettre à jour le statut de connexion basé sur la santé de Canton\nif(isHealthy!==undefined){setConnected(isHealthy);}},[isHealthy,setConnected]);useEffect(()=>{// Appliquer le thème\ndocument.documentElement.classList.toggle('dark',theme==='dark');},[theme]);if(healthLoading){return/*#__PURE__*/_jsx(LoadingScreen,{});}return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-dark-950 dark:via-dark-900 dark:to-dark-800 transition-colors duration-300\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-mesh opacity-20 pointer-events-none\"}),process.env.NODE_ENV==='development'&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed bottom-2 right-2 z-50 rounded-md bg-gray-100 dark:bg-gray-800 border border-gray-300 dark:border-gray-700 text-gray-600 dark:text-gray-400 px-2 py-1 text-xs shadow-sm backdrop-blur-sm opacity-50\",children:\"DevNet\"}),/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(ConnectionStatus,{}),/*#__PURE__*/_jsx(\"main\",{className:\"relative container-app py-8 space-y-6\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(SwapInterface,{})}),/*#__PURE__*/_jsx(Route,{path:\"/swap\",element:/*#__PURE__*/_jsx(SwapInterface,{})}),/*#__PURE__*/_jsx(Route,{path:\"/pools\",element:/*#__PURE__*/_jsx(PoolsInterface,{})}),/*#__PURE__*/_jsx(Route,{path:\"/liquidity\",element:/*#__PURE__*/_jsx(LiquidityInterface,{})}),/*#__PURE__*/_jsx(Route,{path:\"/history\",element:/*#__PURE__*/_jsx(TransactionHistory,{})}),/*#__PURE__*/_jsx(Route,{path:\"/auth/callback\",element:/*#__PURE__*/_jsx(AuthCallback,{})})]})}),/*#__PURE__*/_jsx(\"footer\",{className:\"relative mt-auto py-8 text-center border-t border-gray-200/20 dark:border-gray-700/20\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-app\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row items-center justify-between space-y-4 sm:space-y-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-6 w-6 rounded bg-white dark:bg-white p-0.5 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/clearportx-logo.svg\",alt:\"ClearportX Logo\",className:\"h-full w-full\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gradient-clearportx font-semibold\",children:\"ClearportX\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"body-small\",children:[\"Powered by\",' ',/*#__PURE__*/_jsx(\"span\",{className:\"text-gradient font-semibold\",children:\"Canton Network\"}),' ',\"\\u2022 Advanced DeFi Trading Platform\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 text-xs text-gray-500 dark:text-gray-400\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Privacy-First\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Institutional Grade\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Secure\"})]})]})})}),/*#__PURE__*/_jsx(Toaster,{position:\"top-right\",toastOptions:{duration:4000,style:{background:theme==='dark'?'#1f2937':'#ffffff',color:theme==='dark'?'#f3f4f6':'#111827',border:\"1px solid \".concat(theme==='dark'?'#374151':'#e5e7eb'),borderRadius:'12px',boxShadow:'0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)'},success:{iconTheme:{primary:'#22c55e',secondary:'#ffffff'}},error:{iconTheme:{primary:'#ef4444',secondary:'#ffffff'}}}})]})});}export default App;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}