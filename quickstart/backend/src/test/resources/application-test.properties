# Test configuration for ClearportX Backend

# Active profiles
spring.profiles.active=shared-secret

# Server configuration
server.port=${BACKEND_PORT:8080}

# PostgreSQL/PQS connection (Docker Canton setup)
# Using custom PostgresConfig (prefix="postgres") instead of spring.datasource
postgres.host=${POSTGRES_HOST:localhost}
postgres.port=${POSTGRES_PORT:5432}
postgres.database=${POSTGRES_DATABASE:pqs-app-provider}
postgres.username=${POSTGRES_USERNAME:cnadmin}
postgres.password=${POSTGRES_PASSWORD:supersafe}

# Canton Ledger (Docker setup - participant app-provider)
canton.ledger.host=${CANTON_LEDGER_HOST:localhost}
canton.ledger.port=${CANTON_LEDGER_PORT:3901}

# Ledger configuration (required by application.yml)
ledger.application-id=${AUTH_APP_PROVIDER_BACKEND_USER_ID:TestAppId}
ledger.registry-base-uri=${REGISTRY_BASE_URI:http://localhost:8080}

# Application tenants (required by application.yml)
application.tenants.AppProvider.tenantId=AppProvider
application.tenants.AppProvider.partyId=${APP_PROVIDER_PARTY:app-provider}
application.tenants.AppProvider.internal=true

# Logging
logging.level.com.digitalasset.quickstart=DEBUG
logging.level.org.springframework=INFO

# Shared secret configuration (for test profile)
security.shared-secret=${SHARED_SECRET:test-secret-key}
security.admin-shared-secret=${ADMIN_SHARED_SECRET:test-admin-secret}
