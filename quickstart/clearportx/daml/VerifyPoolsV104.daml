module VerifyPoolsV104 where
import Daml.Script
import qualified AMM.Pool as P

verify : Script ()
verify = script do
  -- Use the operator party from our successful earlier pool creation
  op <- allocatePartyWithHint "OP_OCT25_1651" (PartyIdHint "OP_OCT25_1651")
  
  debug "Querying pools as OP_OCT25_1651..."
  pools <- query @P.Pool op
  debug $ "VERIFY_POOLS_FOR_OP: " <> show (length pools)
  
  pure ()
